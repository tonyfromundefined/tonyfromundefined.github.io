{"version":3,"sources":["webpack:///./src/templates/category.tsx"],"names":["query","TemplateCategory","data","sidebar","totalCount","allPosts","categories","group","filter","name","map","count","tags","posts","nodes","post","frontmatter","title","author","date","fields","slug","key","authorName","join","createdAt","Date"],"mappings":"4LAwDaA,EAAQ,aAmCNC,UAjF4C,SAAC,GAAa,IAAXC,EAAW,EAAXA,KAC5D,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,QAAS,CACPC,WAAYF,EAAKG,SAASD,WAC1BE,WAAYJ,EAAKI,WAAWC,MACzBC,QAAO,SAACD,GAAD,YACgB,IAAfA,EAAME,MACE,OAAfF,EAAME,QAEPC,KAAI,kBAAsB,CACzBD,KADG,EAAGA,KAENE,MAFG,EAASA,UAIhBC,KAAMV,EAAKU,KAAKL,MACbC,QAAO,SAACD,GAAD,YACgB,IAAfA,EAAME,MACE,OAAfF,EAAME,QAEPC,KAAI,kBAAe,CAClBD,KADG,EAAGA,WAKXP,EAAKW,MAAMC,MAAMJ,KAAI,SAACK,GAAD,OACpBA,EAAKC,aACLD,EAAKC,YAAYC,OACjBF,EAAKC,YAAYE,QACjBH,EAAKC,YAAYG,MACjBJ,EAAKK,QACLL,EAAKK,OAAOC,MAEZ,kBAAC,IAAD,CACEC,IAAKP,EAAKK,OAAOC,KACjBJ,MAAOF,EAAKC,YAAYC,MACxBM,WAAYR,EAAKC,YAAYE,OAAOM,KAAK,MACzCC,UAAW,IAAIC,KAAKX,EAAKC,YAAYG,MACrCE,KAAMN,EAAKK,OAAOC","file":"component---src-templates-category-tsx-34be789db4adc15f80c1.js","sourcesContent":["import { graphql } from 'gatsby'\nimport React from 'react'\nimport Layout from '~/components/Layout'\nimport PostListItem from '~/components/molecules/PostListItem'\nimport SectionWithSidebar from '~/components/SectionWithSidebar'\nimport { GetCategoryTemplateQuery } from '../generated/graphql'\n\ninterface ITemplateCategoryProps {\n  data: GetCategoryTemplateQuery\n}\nconst TemplateCategory: React.FC<ITemplateCategoryProps> = ({ data }) => {\n  return (\n    <Layout>\n      <SectionWithSidebar\n        sidebar={{\n          totalCount: data.allPosts.totalCount,\n          categories: data.categories.group\n            .filter((group) => (\n              typeof group.name !== 'undefined' &&\n              group.name !== null\n            ))\n            .map(({ name, count }) => ({\n              name: name!,\n              count,\n            })),\n          tags: data.tags.group\n            .filter((group) => (\n              typeof group.name !== 'undefined' &&\n              group.name !== null\n            ))\n            .map(({ name }) => ({\n              name: name!,\n            })),\n        }}\n      >\n        {data.posts.nodes.map((post) => (\n          post.frontmatter &&\n          post.frontmatter.title &&\n          post.frontmatter.author &&\n          post.frontmatter.date &&\n          post.fields &&\n          post.fields.slug\n        ) && (\n          <PostListItem\n            key={post.fields.slug}\n            title={post.frontmatter.title}\n            authorName={post.frontmatter.author.join(', ')}\n            createdAt={new Date(post.frontmatter.date)}\n            slug={post.fields.slug}\n          />\n        ))}\n      </SectionWithSidebar>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query getCategoryTemplate($category: String) {\n    allPosts: allMarkdownRemark {\n      totalCount\n    }\n    posts: allMarkdownRemark(\n      limit: 5000,\n      sort: { fields: [frontmatter___date], order: DESC },\n      filter: { frontmatter: { category: { in: [$category] }}},\n    ) {\n      nodes {\n        frontmatter {\n          title\n          date\n          author\n        }\n        fields {\n          slug\n        }\n      }\n    }\n    categories: allMarkdownRemark(limit: 5000) {\n      group(field: frontmatter___category) {\n        name: fieldValue\n        count: totalCount\n      }\n    }\n    tags: allMarkdownRemark(limit: 5000) {\n      group(field: frontmatter___tags) {\n        name: fieldValue\n      }\n    }\n  }\n`\n\nexport default TemplateCategory\n"],"sourceRoot":""}